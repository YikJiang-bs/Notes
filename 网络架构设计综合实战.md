## Cisco防火墙

ASA系列

1. 防火墙的工作原理（状态化防火墙）
2. 在防火墙上配置ACL（基本都是命名的ACL）
3. 在防火墙上配置NAT（防火墙设备一般放在局域网出口）

### 一、工作原理

#### 1、系列

ASA5500系列

#### 2、ASA防火墙状态化防火墙

- 里面维护一张表：状态化链接表（conn表）
  - 源IP
  - 目的IP
  - IP协议（TCP/UDP）
  - IP协议信息（端口号，序列号，控制位）
- 默认情况下，ASA对TCP和UDP协议提供状态化链接，对ICMP协议是非状态化的
- 状态化

![image-20220125122511748](https://gitee.com/yikjiang/yang/raw/master/static/20220125122511.png)

- ASA的安全算法
  - 接口安全级别
    - 高到低没有明确阻止的情况下直接放通
  - 访问控制列表
  - 记录conn表
  - 转发
  - 链接表
  - 检测引擎（根据结构安全级别来决定数据是放通还是阻止）
    - 默认情况下，ASA自动放通高安全级别访问底安全级别；阻止低安全级别访问高安全级别；安全级别一致，直接阻止

### 二、ASA接口

#### 1、物理接口

- 基于防火墙自身模块来决定的

#### 2、逻辑接口

- 用来描述物理接口所处的安全区域（insid内网区域、outside外网区域、DMZ服务器区域）
  - inside：安全级别设置为100
  - outside：安全级别0
  - DMZ：安全级别50

- 设置优先级

  ```java
  security-level 50  //设置优先级为50
  ```

### 三、ASA配置ACL

#### 1、标准

#### 2、扩展

